<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Sistema RH'">Sistema RH</title>
    
    <!-- CSS Principal -->
    <link rel="stylesheet" th:href="@{/css/variables.css}">
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/sidebar.css}">
    <link rel="stylesheet" th:href="@{/css/topbar.css}">
    <link rel="stylesheet" th:href="@{/css/components.css}">
    <link rel="stylesheet" th:href="@{/css/tables.css}">
    <link rel="stylesheet" th:href="@{/css/forms.css}">
    <link rel="stylesheet" th:href="@{/css/modals.css}">
    <link rel="stylesheet" th:href="@{/css/cards.css}">
    
    <!-- CSS específico da página -->
    <th:block th:if="${pageStyles}">
        <link rel="stylesheet" th:each="style : ${pageStyles}" th:href="@{'/css/' + ${style}}">
    </th:block>
</head>
<body th:class="${sidebarCollapsed} ? 'sidebar-collapsed' : ''">
    
    <div class="app-container">
        <!-- Sidebar -->
        <th:block th:replace="~{fragments/sidebar :: sidebar}"></th:block>
        
        <!-- Main Content -->
        <div class="main-wrapper">
            <!-- Topbar -->
            <th:block th:replace="~{fragments/topbar :: topbar}"></th:block>
            
            <!-- Page Content -->
            <main class="main-content">
                <th:block th:replace="${content}"></th:block>
            </main>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>
    
    <!-- Modal Container -->
    <div id="modal-container"></div>
    
    <!-- Scripts -->
    <script th:src="@{/js/utils.js}"></script>
    <script th:src="@{/js/sidebar.js}"></script>
    <script th:src="@{/js/topbar.js}"></script>
    <script th:src="@{/js/modals.js}"></script>
    <script th:src="@{/js/toast.js}"></script>
    <script th:src="@{/js/tables.js}"></script>
    <script th:src="@{/js/forms.js}"></script>
    
    <!-- Scripts específicos da página -->
    <th:block th:if="${pageScripts}">
        <script th:each="script : ${pageScripts}" th:src="@{'/js/' + ${script}}"></script>
    </th:block>
    
    <!-- Inline scripts da página -->
    <th:block th:replace="${inlineScripts} ?: ~{}"></th:block>
</body>
</html>
