<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Funcionários - Sistema RH</title>
  <link rel="stylesheet" href="public/styles/global.css">
  <link rel="stylesheet" href="public/styles/dashboard.css">
  <link rel="stylesheet" href="public/styles/employees.css">
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="48" rx="8" fill="#FFFFFF"/>
          <path d="M24 12C17.373 12 12 17.373 12 24C12 30.627 17.373 36 24 36C30.627 36 36 30.627 36 24C36 17.373 30.627 12 24 12ZM24 20C25.657 20 27 21.343 27 23C27 24.657 25.657 26 24 26C22.343 26 21 24.657 21 23C21 21.343 22.343 20 24 20ZM24 33.2C20.8 33.2 17.988 31.53 16.4 29C16.44 26.4 21.6 25 24 25C26.392 25 31.56 26.4 31.6 29C30.012 31.53 27.2 33.2 24 33.2Z" fill="#0066CC"/>
        </svg>
        <span>Sistema RH</span>
      </div>
      <button class="sidebar-toggle" id="sidebarToggle">☰</button>
    </div>

    <nav class="sidebar-nav">
      <a href="dashboard.html" class="nav-item">
        <!-- removendo emojis do menu -->
        <span class="nav-text">Dashboard</span>
      </a>
      
      <div class="nav-section">Gestão de Pessoas</div>
      <a href="employees.html" class="nav-item active">
        <span class="nav-text">Funcionários</span>
      </a>
      <a href="organizational-chart.html" class="nav-item">
        <span class="nav-text">Organograma</span>
      </a>
      
      <div class="nav-section">Recursos Humanos</div>
      <a href="recruitment.html" class="nav-item">
        <span class="nav-text">Recrutamento</span>
      </a>
      <a href="performance.html" class="nav-item">
        <span class="nav-text">Avaliação</span>
      </a>
      <a href="training.html" class="nav-item">
        <span class="nav-text">Treinamentos</span>
      </a>
      
      <div class="nav-section">Departamento Pessoal</div>
      <a href="payroll.html" class="nav-item">
        <span class="nav-text">Folha de Pagamento</span>
      </a>
      <a href="vacation.html" class="nav-item">
        <span class="nav-text">Férias</span>
      </a>
      <a href="timesheet.html" class="nav-item">
        <span class="nav-text">Ponto</span>
      </a>
      
      <div class="nav-section">Administração</div>
      <a href="reports.html" class="nav-item">
        <span class="nav-text">Relatórios</span>
      </a>
      <a href="settings.html" class="nav-item">
        <span class="nav-text">Configurações</span>
      </a>
    </nav>
  </aside>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Topbar -->
    <header class="topbar">
      <div class="topbar-left">
        <h1>Funcionários</h1>
      </div>
      <div class="topbar-right">
        <div class="user-menu">
          <button class="user-button" id="userMenuButton">
            <!-- removendo emoji do avatar -->
            <span class="user-avatar">U</span>
            <span class="user-name" id="userName">Usuário</span>
            <span class="user-arrow">▼</span>
          </button>
          <div class="user-dropdown" id="userDropdown">
            <div class="user-info">
              <strong id="userFullName">Nome do Usuário</strong>
              <small id="userProfile">Perfil</small>
            </div>
            <hr>
            <a href="#" class="dropdown-item">Meu Perfil</a>
            <a href="#" class="dropdown-item">Configurações</a>
            <hr>
            <a href="#" class="dropdown-item" id="logoutButton">Sair</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Content Area -->
    <div class="content-area">
      <!-- Toolbar -->
      <div class="page-toolbar">
        <div class="toolbar-left">
          <div class="search-box">
            <input type="text" id="searchInput" placeholder="Buscar por nome, cargo ou departamento..." class="form-input">
          </div>
          <select id="statusFilter" class="form-select">
            <option value="">Todos os Status</option>
            <option value="active">Ativos</option>
            <option value="vacation">Férias</option>
            <option value="away">Afastados</option>
            <option value="terminated">Desligados</option>
          </select>
          <select id="departmentFilter" class="form-select">
            <option value="">Todos os Departamentos</option>
            <option value="tech">Tecnologia</option>
            <option value="hr">Recursos Humanos</option>
            <option value="finance">Financeiro</option>
            <option value="sales">Vendas</option>
            <option value="marketing">Marketing</option>
          </select>
        </div>
        <div class="toolbar-right">
          <button class="btn btn-secondary" id="exportBtn">Exportar</button>
          <button class="btn btn-primary" id="addEmployeeBtn">+ Adicionar Funcionário</button>
        </div>
      </div>

      <!-- Employees Table -->
      <div class="card">
        <table class="table" id="employeesTable">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Cargo</th>
              <th>Departamento</th>
              <th>E-mail</th>
              <th>Telefone</th>
              <th>Status</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="employeesTableBody">
            <!-- Data will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Modal: Add/Edit Employee -->
  <div class="modal-overlay" id="employeeModal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2 id="modalTitle">Adicionar Funcionário</h2>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>
      <form id="employeeForm">
        <div class="form-tabs">
          <button type="button" class="tab-btn active" data-tab="personal">Dados Pessoais</button>
          <button type="button" class="tab-btn" data-tab="professional">Dados Profissionais</button>
          <button type="button" class="tab-btn" data-tab="documents">Documentos</button>
          <button type="button" class="tab-btn" data-tab="contact">Contato e Dependentes</button>
        </div>

        <!-- Tab: Personal Data -->
        <div class="tab-content active" data-tab="personal">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Nome Completo *</label>
              <input type="text" name="fullName" class="form-input" required>
            </div>
            <div class="form-group">
              <label class="form-label">Data de Nascimento *</label>
              <input type="date" name="birthDate" class="form-input" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">CPF *</label>
              <input type="text" name="cpf" class="form-input" placeholder="000.000.000-00" required>
            </div>
            <div class="form-group">
              <label class="form-label">RG *</label>
              <input type="text" name="rg" class="form-input" required>
            </div>
            <div class="form-group">
              <label class="form-label">Sexo</label>
              <select name="gender" class="form-select">
                <option value="">Selecione</option>
                <option value="M">Masculino</option>
                <option value="F">Feminino</option>
                <option value="O">Outro</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Estado Civil</label>
              <select name="maritalStatus" class="form-select">
                <option value="">Selecione</option>
                <option value="single">Solteiro(a)</option>
                <option value="married">Casado(a)</option>
                <option value="divorced">Divorciado(a)</option>
                <option value="widowed">Viúvo(a)</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Nacionalidade</label>
              <input type="text" name="nationality" class="form-input" value="Brasileiro(a)">
            </div>
          </div>
        </div>

        <!-- Tab: Professional Data -->
        <div class="tab-content" data-tab="professional">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Matrícula</label>
              <input type="text" name="employeeId" class="form-input" placeholder="Gerado automaticamente" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Data de Admissão *</label>
              <input type="date" name="hireDate" class="form-input" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Cargo *</label>
              <select name="position" class="form-select" required>
                <option value="">Selecione</option>
                <option value="developer-jr">Desenvolvedor Júnior</option>
                <option value="developer-pl">Desenvolvedor Pleno</option>
                <option value="developer-sr">Desenvolvedor Sênior</option>
                <option value="analyst">Analista</option>
                <option value="coordinator">Coordenador</option>
                <option value="manager">Gerente</option>
                <option value="director">Diretor</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Departamento *</label>
              <select name="department" class="form-select" required>
                <option value="">Selecione</option>
                <option value="tech">Tecnologia</option>
                <option value="hr">Recursos Humanos</option>
                <option value="finance">Financeiro</option>
                <option value="sales">Vendas</option>
                <option value="marketing">Marketing</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Salário (R$) *</label>
              <input type="number" name="salary" class="form-input" step="0.01" required>
            </div>
            <div class="form-group">
              <label class="form-label">Tipo de Contrato *</label>
              <select name="contractType" class="form-select" required>
                <option value="">Selecione</option>
                <option value="clt">CLT</option>
                <option value="pj">PJ</option>
                <option value="intern">Estágio</option>
                <option value="temporary">Temporário</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Status *</label>
              <select name="status" class="form-select" required>
                <option value="active">Ativo</option>
                <option value="vacation">Férias</option>
                <option value="away">Afastado</option>
                <option value="terminated">Desligado</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Gestor Direto</label>
              <select name="manager" class="form-select">
                <option value="">Selecione</option>
                <option value="1">Maria Silva - Gerente de TI</option>
                <option value="2">João Santos - Diretor Financeiro</option>
                <option value="3">Ana Costa - Coordenadora RH</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Tab: Documents -->
        <div class="tab-content" data-tab="documents">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">CTPS (Número)</label>
              <input type="text" name="ctpsNumber" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">CTPS (Série)</label>
              <input type="text" name="ctpsSeries" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">PIS/PASEP</label>
              <input type="text" name="pis" class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Título de Eleitor</label>
              <input type="text" name="voterRegistration" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">CNH (Número)</label>
              <input type="text" name="driverLicense" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">CNH (Categoria)</label>
              <select name="driverLicenseCategory" class="form-select">
                <option value="">Selecione</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="AB">AB</option>
                <option value="C">C</option>
                <option value="D">D</option>
                <option value="E">E</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Banco</label>
              <input type="text" name="bank" class="form-input" placeholder="Ex: Banco do Brasil">
            </div>
            <div class="form-group">
              <label class="form-label">Agência</label>
              <input type="text" name="bankBranch" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Conta</label>
              <input type="text" name="bankAccount" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Tipo de Conta</label>
              <select name="accountType" class="form-select">
                <option value="">Selecione</option>
                <option value="checking">Corrente</option>
                <option value="savings">Poupança</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Tab: Contact and Dependents -->
        <div class="tab-content" data-tab="contact">
          <h3 style="margin-bottom: var(--spacing-4);">Dados de Contato</h3>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">E-mail Corporativo *</label>
              <input type="email" name="email" class="form-input" required>
            </div>
            <div class="form-group">
              <label class="form-label">E-mail Pessoal</label>
              <input type="email" name="personalEmail" class="form-input">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Telefone *</label>
              <input type="tel" name="phone" class="form-input" placeholder="(00) 00000-0000" required>
            </div>
            <div class="form-group">
              <label class="form-label">Telefone Alternativo</label>
              <input type="tel" name="alternativePhone" class="form-input" placeholder="(00) 00000-0000">
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Endereço Completo</label>
            <input type="text" name="address" class="form-input" placeholder="Rua, Número, Complemento">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Cidade</label>
              <input type="text" name="city" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Estado</label>
              <select name="state" class="form-select">
                <option value="">Selecione</option>
                <option value="SP">São Paulo</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="MG">Minas Gerais</option>
                <!-- Add more states -->
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">CEP</label>
              <input type="text" name="zipCode" class="form-input" placeholder="00000-000">
            </div>
          </div>

          <h3 style="margin: var(--spacing-6) 0 var(--spacing-4);">Contato de Emergência</h3>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Nome</label>
              <input type="text" name="emergencyContactName" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Parentesco</label>
              <input type="text" name="emergencyContactRelation" class="form-input" placeholder="Ex: Mãe, Esposo(a)">
            </div>
            <div class="form-group">
              <label class="form-label">Telefone</label>
              <input type="tel" name="emergencyContactPhone" class="form-input">
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="cancelBtn">Cancelar</button>
          <button type="submit" class="btn btn-primary">Salvar Funcionário</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: View Employee Details -->
  <div class="modal-overlay" id="viewEmployeeModal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>Detalhes do Funcionário</h2>
        <button class="modal-close" id="closeViewModal">&times;</button>
      </div>
      <div id="employeeDetails">
        <!-- Details will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <script src="public/scripts/auth.js"></script>
  <script src="public/scripts/dashboard.js"></script>
  <script src="public/scripts/employees.js"></script>
</body>
</html>
